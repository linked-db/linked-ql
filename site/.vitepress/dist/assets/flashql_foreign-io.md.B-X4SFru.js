import{_ as a,c as n,o as l,ag as p}from"./chunks/framework.B-XtCDNB.js";const y=JSON.parse('{"title":"Federation & Sync (Alpha)","description":"","frontmatter":{},"headers":[],"relativePath":"flashql/foreign-io.md","filePath":"flashql/foreign-io.md"}'),o={name:"flashql/foreign-io.md"};function e(t,s,c,r,i,D){return l(),n("div",null,[...s[0]||(s[0]=[p(`<h1 id="federation-sync-alpha" tabindex="-1">Federation &amp; Sync (Alpha) <a class="header-anchor" href="#federation-sync-alpha" aria-label="Permalink to &quot;Federation &amp; Sync (Alpha)&quot;">​</a></h1><p>Federation and Sync extend FlashQL’s reach beyond the local store into <strong>remote databases</strong>, <strong>APIs</strong>, or any other data endpoint — exposed in its <em>Foreign I/O</em> set of APIs.</p><p>With Foreign I/O, you can stream data on demand, materialize remote datasets locally, or maintain continuous two-way synchronization.</p><ul><li><strong>Federation</strong> — join remote databases or arbitrary data sources directly in a query, on demand.</li><li><strong>Materialization</strong> — pull and persist remote datasets locally for offline-first or edge-first workloads.</li><li><strong>Sync</strong> — keep local and remote datasets in continuous, bidirectional synchronization.</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────┐                                ┌──────────────────┐</span></span>
<span class="line"><span>│     FlashQL     │ ─────── Federation ──────────&gt; │   Remote DB(s)   │</span></span>
<span class="line"><span>│                 │ &lt;────── Materialization ────── │                  │</span></span>
<span class="line"><span>│     (Local)     │ &lt;────── Sync ────────────────&gt; │ (Postgres, etc.) │</span></span>
<span class="line"><span>└─────────────────┘                                └──────────────────┘</span></span></code></pre></div><p>Each mode requires FlashQL to be initialized with a remote connection factory:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;"> {</span><span style="color:#BABED8;"> FlashQL</span><span style="color:#89DDFF;"> }</span><span style="color:#89DDFF;font-style:italic;"> from</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">@linked-db/linked-ql/flash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;"> {</span><span style="color:#BABED8;"> PGClient</span><span style="color:#89DDFF;"> }</span><span style="color:#89DDFF;font-style:italic;"> from</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">@linked-db/linked-ql/pg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> local </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> FlashQL</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#82AAFF;">  onCreateRemoteClient</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;"> async</span><span style="color:#89DDFF;"> (</span><span style="color:#BABED8;font-style:italic;">opts</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#C792EA;">    const</span><span style="color:#BABED8;"> remote</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> PGClient</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">opts</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    await</span><span style="color:#BABED8;"> remote</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    return</span><span style="color:#BABED8;"> remote</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="query-federation" tabindex="-1">Query Federation <a class="header-anchor" href="#query-federation" aria-label="Permalink to &quot;Query Federation&quot;">​</a></h2><p>Join remote databases or arbitrary data sources in the same query — on demand.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────┐                                ┌──────────────────┐</span></span>
<span class="line"><span>│     FlashQL     │ ─────── Federation ──────────&gt; │   Remote DB(s)   │</span></span>
<span class="line"><span>│                 │         query parts run →      │                  │</span></span>
<span class="line"><span>│     (Local)     │         results stream ←       │ (Postgres, etc.) │</span></span>
<span class="line"><span>└─────────────────┘                                └──────────────────┘</span></span></code></pre></div><p><em>(a) Federate a remote dataset (or many of such)</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">federate</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> public</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">orders</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">},</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  host</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  port</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 5432</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  database</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(b) With filters</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">federate</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span></span>
<span class="line"><span style="color:#F07178;">    pg1</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">      namespace</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">public</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">products</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      filters</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span><span style="color:#F07178;"> status</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span><span style="color:#F07178;"> connectionString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">postgresql://user:pass@remote-db:5432/analytics</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(c) Using SQL</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">federate</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span></span>
<span class="line"><span style="color:#F07178;">    analytics</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">      name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">events</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      query</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> \`</span></span>
<span class="line"><span style="color:#C3E88D;">        SELECT * FROM public.events </span></span>
<span class="line"><span style="color:#C3E88D;">        WHERE created_at &gt; NOW() - INTERVAL &#39;7 days&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">      \`</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span><span style="color:#F07178;"> connectionString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">postgresql://user:pass@remote-db:5432/analytics</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(d) Query across all federated origins</em> LinkedQL automatically routes the relevant parts of your query to their respective origins and streams results back into the working dataset.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;font-style:italic;"> await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">  SELECT </span></span>
<span class="line"><span style="color:#C3E88D;">    u.id, </span></span>
<span class="line"><span style="color:#C3E88D;">    u.name,</span></span>
<span class="line"><span style="color:#C3E88D;">    o.total, </span></span>
<span class="line"><span style="color:#C3E88D;">    p.name AS product_name,</span></span>
<span class="line"><span style="color:#C3E88D;">    e.event_type</span></span>
<span class="line"><span style="color:#C3E88D;">  FROM public.users u</span></span>
<span class="line"><span style="color:#C3E88D;">  JOIN public.orders o ON u.id = o.user_id</span></span>
<span class="line"><span style="color:#C3E88D;">  JOIN pg1.products p ON o.product_id = p.id</span></span>
<span class="line"><span style="color:#C3E88D;">  LEFT JOIN analytics.events e ON u.id = e.user_id</span></span>
<span class="line"><span style="color:#C3E88D;">  WHERE o.created_at &gt; NOW() - INTERVAL &#39;30 days&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">  ORDER BY o.total DESC</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">rows)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><ul><li>Federation is lazy — data is streamed on demand, not bulk-copied.</li><li>Perfect for large datasets that don&#39;t fit into local memory at once.</li></ul><h2 id="data-materialization" tabindex="-1">Data Materialization <a class="header-anchor" href="#data-materialization" aria-label="Permalink to &quot;Data Materialization&quot;">​</a></h2><p>Pull remote datasets locally for offline-first and edge-first workloads.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────┐                                ┌──────────────────┐</span></span>
<span class="line"><span>│     FlashQL     │                                │   Remote DB(s)   │</span></span>
<span class="line"><span>│                 │ &lt;────── Materialization ────── │                  │</span></span>
<span class="line"><span>│     (Local)     │         pull data ←            │ (Postgres, etc.) │</span></span>
<span class="line"><span>└─────────────────┘         keep locally           └──────────────────┘</span></span></code></pre></div><p><em>(a) Materialize specified tables from a remote database (or many of such; executes immediately</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">materialize</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> public</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">orders</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">},</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  host</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  port</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 5432</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  database</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(b) With filters</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">materialize</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span></span>
<span class="line"><span style="color:#F07178;">    pg1</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">      namespace</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">public</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">products</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      filters</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span><span style="color:#F07178;"> status</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span><span style="color:#F07178;"> connectionString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">postgresql://user:pass@remote-db:5432/analytics</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(c) Using SQL</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">materialize</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span></span>
<span class="line"><span style="color:#F07178;">    analytics</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">      name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">events</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      query</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> \`</span></span>
<span class="line"><span style="color:#C3E88D;">        SELECT * FROM public.events </span></span>
<span class="line"><span style="color:#C3E88D;">        WHERE created_at &gt; NOW() - INTERVAL &#39;7 days&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">      \`</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span><span style="color:#F07178;"> connectionString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">postgresql://user:pass@remote-db:5432/analytics</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(d) Query locally — offline)</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;font-style:italic;"> await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">  SELECT </span></span>
<span class="line"><span style="color:#C3E88D;">    u.id, </span></span>
<span class="line"><span style="color:#C3E88D;">    u.name,</span></span>
<span class="line"><span style="color:#C3E88D;">    o.total,</span></span>
<span class="line"><span style="color:#C3E88D;">    p.name AS product_name</span></span>
<span class="line"><span style="color:#C3E88D;">  FROM public.users u</span></span>
<span class="line"><span style="color:#C3E88D;">  JOIN public.orders o ON u.id = o.user_id</span></span>
<span class="line"><span style="color:#C3E88D;">  JOIN pg1.products p ON o.product_id = p.id</span></span>
<span class="line"><span style="color:#C3E88D;">  ORDER BY o.total DESC</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">rows)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><ul><li>Materialization executes immediately and pulls the targeted data locally.</li><li>Use <code>{ live: true }</code> to make it self-updating.</li><li>Ideal for PWAs and edge runtimes where offline continuity matters.</li></ul><h2 id="data-sync" tabindex="-1">Data Sync <a class="header-anchor" href="#data-sync" aria-label="Permalink to &quot;Data Sync&quot;">​</a></h2><p>Materialize datasets and activate two-way synchronization between local and remote datasets. Offline writes are queued and replayed; conflicts are resolved.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────┐                                ┌──────────────────┐</span></span>
<span class="line"><span>│     FlashQL     │         changes ⇄              │   Remote DB(s)   │</span></span>
<span class="line"><span>│                 │         resolve conflicts      │                  │</span></span>
<span class="line"><span>│     (Local)     │ &lt;────── Sync ────────────────&gt; │ (Postgres, etc.) │</span></span>
<span class="line"><span>└─────────────────┘                                └──────────────────┘</span></span></code></pre></div><p><em>(a) Initialize and activate sync</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sync</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span><span style="color:#F07178;"> public</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">orders</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">  {</span><span style="color:#F07178;"> host</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> port</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 5432</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> database</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><em>(b) Mutate locally — changes sync automatically)</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">  INSERT INTO users (name, email)</span></span>
<span class="line"><span style="color:#C3E88D;">  VALUES (&#39;New User&#39;, &#39;user@example.com&#39;)</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">  UPDATE orders</span></span>
<span class="line"><span style="color:#C3E88D;">  SET status = &#39;completed&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">  WHERE id = 123</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><ul><li>Sync combines materialization with live bidirectional updates and conflict resolution.</li><li>Changes queue automatically when offline and replay when connectivity returns.</li><li>The mode you reach for in offline-first apps and edge nodes.</li><li>Current stage: <strong>alpha</strong>.</li></ul>`,39)])])}const d=a(o,[["render",e]]);export{y as __pageData,d as default};
